!function(){"use strict";function c(b){var c={html:htmlField.getValue(),style:cssField.getValue(),js:jsField.getValue()};a.Autoprefixer&&"undefined"==typeof autoprefixer&&function(){var a=null;a=new XMLHttpRequest,a.open("GET","http://rawgit.com/ai/autoprefixer-rails/master/vendor/autoprefixer.js",!1),a.send(null);var b=document.createElement("script");b.type="text/javascript",b.text=a.responseText,document.getElementsByTagName("head")[0].appendChild(b)}(),a.Sass&&"undefined"==typeof Sass&&function(){var a=null;a=new XMLHttpRequest,a.open("GET","http://rawgit.com/medialize/sass.js/master/dist/sass.min.js",!1),a.send(null);var b=document.createElement("script");b.id="sass",b.type="text/javascript",b.text=a.responseText,document.getElementsByTagName("head")[0].appendChild(b)}();var d="";return d+="<!DOCTYPE html>\n",d+='<html lang="en">\n',d+="<head>\n",d+='<meta charset="UTF-8">\n',a.Normalize&&(d+='<link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.1/normalize.min.css" rel="stylesheet">\n'),a.Bootstrap&&(d+='<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">\n'),a.Foundation&&(d+='<link href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.2.2/css/foundation.min.css" rel="stylesheet">\n'),d+=a.Less?'<style type="text/less">\n':'<style type="text/css">\n',d+=a.Autoprefixer?autoprefixer({cascade:!0}).process(c.style).css:a.Sass?Sass.compile(c.style):c.style,d+="\n</style>\n",d+='<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>\n',a.Bootstrap&&(d+='<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.min.js"></script>\n'),a.Foundation&&(d+='<script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.2.2/js/foundation/foundation.min.js"></script>\n'),a.Modernizr&&(d+='<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.7.1/modernizr.min.js"></script>\n'),a.Less&&(d+='<script>\nless={env: "production", errorReporting: null}\n</script>\n',d+='<script src="https://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.0/less.min.js"></script>\n'),d+="</head>\n",d+="<body>\n",d+=c.html,b&&(d+='\n<script src="js/console.min.js"></script>\n'),d+="\n<script>\n",d+=c.js,d+="\n</script>\n",d+="</body>\n",d+="</html>"}function d(a){a=a||0;var b=null;b&&window.clearTimeout(b),b=window.setTimeout(function(){b=null;var a=c(!0);document.getElementById("iframe").contentWindow.document.write(a),document.getElementById("iframe").contentWindow.document.close()},a)}function e(a){a="ace/theme/"+a,htmlField.setTheme(a),cssField.setTheme(a),jsField.setTheme(a),localStorage.setItem("theme",a)}var a={Autoprefixer:!1,Less:!1,Sass:!1,Modernizr:!1,Normalize:!1,Bootstrap:!1,Foundation:!1,liveEdit:!1};window.addEventListener("load",function(){window.applicationCache.addEventListener("updateready",function(){window.applicationCache.status==window.applicationCache.UPDATEREADY&&confirm("A new version of this site is available. Load it?")&&window.location.reload()},!1)},!1),function(){var b;b=localStorage.getItem("theme")?localStorage.getItem("theme"):"ace/theme/chrome",window.htmlField=ace.edit("html"),htmlField.setOptions({useWorker:!1,theme:b,displayIndentGuides:!0,mode:"ace/mode/html",tabSize:2,useSoftTabs:!0,showPrintMargin:!1,enableEmmet:!0}),window.cssField=ace.edit("css"),cssField.setOptions({theme:b,displayIndentGuides:!0,mode:"ace/mode/css",tabSize:2,useSoftTabs:!0,showPrintMargin:!1,enableEmmet:!0}),window.jsField=ace.edit("js"),jsField.setOptions({theme:b,displayIndentGuides:!0,mode:"ace/mode/javascript",tabSize:2,useSoftTabs:!0,showPrintMargin:!1}),function(){sessionStorage.getItem("html")?(htmlField.setValue(sessionStorage.getItem("html")),htmlField.clearSelection()):(htmlField.setValue("<!-- Do not place html/head/body tags here.\nInsert the tags as would normally be used in your\nbody element. <script> tags ARE allowed, though\nthey're best placed at the end of your HTML -->\n"),htmlField.clearSelection(),$(".html").one("touchstart click",function(){htmlField.setValue("")})),sessionStorage.getItem("css")&&(cssField.setValue(sessionStorage.getItem("css")),cssField.clearSelection()),sessionStorage.getItem("js")&&(jsField.setValue(sessionStorage.getItem("js")),jsField.clearSelection()),sessionStorage.getItem("use")&&(a=JSON.parse(sessionStorage.getItem("use"))),sessionStorage.getItem("cssMode")&&cssField.getSession().setMode(sessionStorage.getItem("cssMode"))}()}(),function(){var a="Ctrl+C: abort command, Ctrl+A: start of Line, Ctrl+E: end of line.\n";window.jqconsole=$("#console").jqconsole(a),jqconsole.SetIndentWidth(2),jqconsole.RegisterShortcut("C",function(){jqconsole.AbortPrompt(),b()}),jqconsole.RegisterShortcut("A",function(){jqconsole.MoveToStart(),b()}),jqconsole.RegisterShortcut("E",function(){jqconsole.MoveToEnd(),b()}),jqconsole.RegisterMatching("{","}","brace"),jqconsole.RegisterMatching("(",")","paran"),jqconsole.RegisterMatching("[","]","bracket"),window.log=function(a){var b="";b="object"==typeof a?JSON&&JSON.stringify?JSON.stringify(a):String(a):a,jqconsole.Write("==> "+b+"\n")};var b=function(a){if(a){a.search(!0)&&(a=a.replace("console.log","log"));try{jqconsole.Write("==> "+window.eval(a)+"\n")}catch(c){jqconsole.Write("ReferenceError: "+c.message+"\n")}}jqconsole.Prompt(!0,b,function(a){try{new Function(a)}catch(b){return/[\[\{\(]$/.test(a)?1:0}return!1})};b()}(),$(".togglePane").on("click",function(){b.close(this)}),$("#consoleToggle").on("click",function(){$(this).toggleClass("btn-active"),$(".console").toggle()}),$("#previewToggle, #iframeClose").on("click",function(){$("#previewToggle").toggleClass("btn-active"),$("html").toggleClass("modal-open")});var b={count:function(){var a=3,b=$(".windowGroup .column-33");return b.each(function(c){"none"===$(b[c]).css("display")&&(a-=1)}),a},resize:function(){var a=this.count(),b=$(".windowGroup .column-33");3===a||0===a?b.css("width","33%"):2===a?b.css("width","49.5%"):1===a&&b.css("width","99%")},close:function(a){var b=a.dataset.editor,c=this.count();c>1||$(a).hasClass("btn-active")?($(a).toggleClass("btn-active"),$(".window."+b).parent().toggle(),this.resize()):alert("You Must Have at least one Editor open")}};$("#liveEdit").on("click",function(){a.liveEdit=a.liveEdit?!1:!0,$(this).toggleClass("btn-active")}),htmlField.getSession().on("change",function(){a.liveEdit&&d(1e3)}),cssField.getSession().on("change",function(){a.liveEdit&&d(2e3)}),$("#run").on("click",function(){d()}),$("#download").on("click",function(){function a(a){document.body.removeChild(a.target)}var b=document.createElement("a"),d=c(!1),e=new Blob([d],{type:"text/plain"}),f="index.html";b.download=f,b.href="function"==typeof window.webkitURL?window.webkitURL.createObjectURL(e):window.URL.createObjectURL(e),b.onclick=a,b.style.display="none",document.body.appendChild(b),b.click()}),$("#clear").on("click",function(){htmlField.setValue(""),cssField.setValue(""),jsField.setValue(""),sessionStorage.clear(),document.getElementById("iframe").contentWindow.document.write(""),document.getElementById("iframe").contentWindow.document.close()}),$("#save").on("click",function(){var a={html:htmlField.getValue(),css:cssField.getValue(),js:jsField.getValue()};localStorage.setItem("cloudEdit",JSON.stringify(a))}),$("#load").on("click",function(){var a;localStorage.cloudEdit?(a=JSON.parse(localStorage.cloudEdit),cssField.setValue(a.css),cssField.clearSelection(),htmlField.setValue(a.html),htmlField.clearSelection(),jsField.setValue(a.js),jsField.clearSelection()):alert("No previous session found...")}),function(){$.contextMenu({selector:".windowGroup",items:{css:{name:"CSS Options",items:{plaincss:{name:"Plain CSS [Default]",type:"radio",radio:"css",value:"plaincss",selected:!0},autoprefixer:{name:"Autoprefixer",type:"radio",radio:"css",value:"autoprefixer",selected:!1},less:{name:"Less CSS",type:"radio",radio:"css",value:"less",selected:!1},sass:{name:"Sass CSS [Experimental]",type:"radio",radio:"css",value:"sass",selected:!1},normalize:{name:"Normalize CSS",type:"checkbox",selected:!1},modernizr:{name:"Modernizr",type:"checkbox",selected:!1}}},framework:{name:"Frameworks",items:{none:{name:"None [Default]",type:"radio",radio:"framework",value:"none",selected:!0},bootstrap:{name:"Bootstrap",type:"radio",radio:"framework",value:"bootstrap",selected:!1},foundation:{name:"Foundation",type:"radio",radio:"framework",value:"foundation",selected:!1}}},themes:{name:"Editor Themes",items:{light:{name:"Light",items:{chrome:{name:"Chrome [Default]",callback:function(){e("chrome")}},clouds:{name:"Clouds",callback:function(){e("clouds")}},crimsoneditor:{name:"Crimson Editor",callback:function(){e("crimson_editor")}},dreamweaver:{name:"Dreamweaver",callback:function(){e("dreamweaver")}},dawn:{name:"Dawn",callback:function(){e("dawn")}},eclipse:{name:"Eclipse",callback:function(){e("eclipse")}},github:{name:"Github",callback:function(){e("github")}},kuroir:{name:"Kuroir",callback:function(){e("kuroir")}},katzenmilch:{name:"KatzenMilch",callback:function(){e("katzenmilch")}},solarizedlight:{name:"Solarized Light",callback:function(){e("solarized_light")}},textmate:{name:"TextMate",callback:function(){e("textmate")}},tomorrow:{name:"Tomorow",callback:function(){e("tomorrow")}},xcode:{name:"XCode",callback:function(){e("xcode")}}}},dark:{name:"Dark",items:{ambiance:{name:"Ambiance",callback:function(){e("ambiance")}},chaos:{name:"Chaos",callback:function(){e("chaos")}},cloudsmidnight:{name:"Clouds Midight",callback:function(){e("clouds_midnight")}},cobalt:{name:"Cobalt",callback:function(){e("cobalt")}},idlefingers:{name:"Idle Fingers",callback:function(){e("idle_fingers")}},krtheme:{name:"KR Theme",callback:function(){e("kr_theme")}},merbivore:{name:"Merbivore",callback:function(){e("merbivore")}},merbivoresoft:{name:"Merbivore Soft",callback:function(){e("merbivore_soft")}},monoindustrial:{name:"Mono Industrial",callback:function(){e("mono_industrial")}},monokai:{name:"Monokai",callback:function(){e("monokai")}},pastelondark:{name:"Pastel on Dark",callback:function(){e("pastel_on_dark")}},solarizeddark:{name:"Solarized Dark",callback:function(){e("solarized_dark")}},terminal:{name:"Terminal",callback:function(){e("terminal")}},tomorrownight:{name:"Tomorrow Night",callback:function(){e("tomorrow_night")}},tomorrownightblue:{name:"Tomorrow Night Blue",callback:function(){e("tomorrow_night_blue")}},tomorrownightbright:{name:"Tomorrow Night Bright",callback:function(){e("tomorrow_night_bright")}},tomorrownighteighties:{name:"Tomorrow Night Eighties",callback:function(){e("tomorrow_night_eighties")}},twilight:{name:"Twilight",callback:function(){e("twilight")}},vibrantink:{name:"Vibrant Ink",callback:function(){e("vibrant_ink")}}}},"default":{name:"Default",callback:function(){e("chrome")}}}}},events:{show:function(a){var b=this;$.contextMenu.getInputValues(a,b.data())&&$.contextMenu.setInputValues(a,b.data())},hide:function(a){var b=this;$.contextMenu.getInputValues(a,b.data())}}})}(),$(".context-menu-list").on("click","input[name*='context-menu-input']",function(){var b=$(this).val();if(b)switch(b){case"plaincss":$("#cssLabel").text("CSS"),cssField.getSession().setMode("ace/mode/css"),a.Autoprefixer=!1,a.Less=!1,a.Sass=!1;break;case"autoprefixer":$("#cssLabel").text("CSS"),cssField.getSession().setMode("ace/mode/css"),a.Autoprefixer=!0,a.Less=!1,a.Sass=!1;break;case"less":$("#cssLabel").text("LESS"),cssField.getSession().setMode("ace/mode/less"),a.Less=!0,a.Sass=!1,a.Autoprefixer=!1;break;case"sass":$("#cssLabel").text("SASS"),cssField.getSession().setMode("ace/mode/sass"),a.Sass=!0,a.Less=!1,a.Autoprefixer=!1;break;case"none":a.Bootstrap=!1,a.Foundation=!1;break;case"bootstrap":a.Bootstrap=!0,a.Foundation=!1;break;case"foundation":a.Foundation=!0,a.Bootstrap=!1}else{var c=$(this).is(":checked"),d=event.target.name;switch(d){case"context-menu-input-modernizr":a.Modernizr=c;break;case"context-menu-input-normalize":a.Normalize=c}}}),window.onbeforeunload=function(b){sessionStorage.setItem("html",htmlField.getValue()),sessionStorage.setItem("css",cssField.getValue()),sessionStorage.setItem("js",jsField.getValue()),sessionStorage.setItem("use",JSON.stringify(a)),sessionStorage.setItem("cssMode",cssField.getSession().getMode().$id),b=b||window.event;var c="Your current session may be lost..";return b&&(b.returnValue=c),c}}();